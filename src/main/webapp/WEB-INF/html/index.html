<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="navWrap">
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="row">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header inline">
                    <img class="logo navbar-brand" src="/resources/img/logo.png">
                    <a class="navbar-brand nav-height" href="#" style="color: white;">电影智能推荐系统</a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a id="login_form" style="padding-right:0px;">登录</a>
                        </li>
                        <li>
                            <a id="register" style="padding-right:0px;">注册</a>
                        </li>
                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </div>
        </div>
    </nav>
</div>
<div class="movie_container">
    <div class="search">
        <input id="search_input" class="form-control" type="text" placeholder="请输入你想搜索的一切"/>
        <div id="suggestion_movie">

        </div>
    </div>
    <div id="dailyMovie">
    </div>
</div>
</body>

<script src="/resources/js/mirs.js" type="text/javascript"></script>
<link href="/resources/css/mirs.css" rel="stylesheet">

<!--reactjs库-->
<script src="/resources/js/react.js" type="text/javascript"></script>
<script src="/resources/js/react-dom.js" type="text/javascript"></script>
<script src="/resources/js/browser.min.js" type="text/javascript"></script>

<!--bootstrap库-->
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link href="/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="/resources/bootstrap/js/bootstrap.min.js"></script>

<script type="text/javascript">
    $(function () {
        $("#login_form").attr("href", mirs.URL.loginUrl());
        $("#register").attr("href", mirs.URL.registerUrl());
        mirs.getDailyMovie("#dailyMovie");
        $("#seach_result").attr("hidden", "none");
    });

    $("#search_input").bind('input onchange', function () {
        var keyword = $(this).val();
        keyword = keyword.replace(/(^\s*)|(\s*$)/g, "");
        var keyword_lenth = keyword.length;
        $("#suggestion_movie").html(" ");
        $("#suggestion_movie").css("display", "none");
        if (keyword_lenth != 0) {
            mirs.utils.throttle(search(keyword), 500, 1000);
        }
    });

    function search(keyword) {
        mirs.searchMovie(this, mirs.URL.searchMovieUrl(keyword), "#suggestion_movie");
    }

</script>
</html>