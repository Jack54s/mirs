//业务逻辑代码var mirs = {    // 接口    URL : {        oAuthUrl: function (type) {            return '/oauth/' + type;        },        loginUrl: function () {            return '/accounts/login';        },        registerUrl: function () {            return '/accounts/register';        },        getCaptchaUrl: function () {            return '/captcha/get';        },        checkCaptchaUrl: function (captcha) {            return '/captcha/check/' + captcha;        },        checkUserEmailUrl: function (email) {            return '/inspection/userEmail?email=' + email;        },        checkUserNameUrl: function (name) {            return '/inspection/userName?name=' + name;        },        checkVerificationUrl: function (verification) {            return '/inspection/verification?verification=' + verification;        },        dailyMovieUrl: function () {            return '/movie/daily';        },        searchMovieUrl: function (keyword) {            return '/search/movie/'+ keyword;        }    },    loadOAuthUrl: function (element, oauthUrl) {        $.post(oauthUrl, {}, function (result) {            if(result && result['success']) {                console.log(result['data']['url']);                $(element).attr("href", result['data']['url']);            }        })    },    changeCaptcha: function (element) {        $(element).hide().attr('src', this.URL.getCaptchaUrl() + '?' + Math.floor(Math.random()*100) ).fadeIn();    },    checkStatus: function (element, checkUrl, statusElement,id) {        $.post(checkUrl, {}, function (result) {            if(result && result['success']) {                $(statusElement).html("<span style='color: green'>√</span>");                $(id).removeAttr("disabled");            } else {                $(statusElement).html(result['error']);            }        })    },    getDailyMovie: function(statusElement,id) {        $.get(this.URL.dailyMovieUrl(), {}, function (result) {            if(result && result['success']) {                var movies = result['data'];                var parent = document.getElementById(statusElement);                for(var i = 0; i < movies.length; i++) {                    var movie_name = '<label>影片名称 <span>'+movies[i]['name']+'</span></label>';                    var movie_releaseyear = '<label>出品年份 <span>'+movies[i]['releaseYear']+'</span></label>';                    var movie_directors = '<label>导演 <span>'+movies[i]['directors']+'</span></label>';                    var movie_types = '<label>影片类型 <span>'+movies[i]['types']+'</span></label>';                    var movie_actors = '<label>主要演员 <span>'+movies[i]['actors']+'</span></label>';                    var movie_synopsis = '<label>影片简介 <span id="movie_synopsis">'+movies[i]['synopsis'].substr(0,80)+'</span><a href="#">更多</a></label>';                    var movie_info = '<div class="movie_info">'+movie_name+'<br>'+movie_releaseyear+'<br>'+movie_directors+'<br>'+movie_types+'<br>'+movie_actors+'<br>'+movie_synopsis+'</div>';                    var movie_title = '<h4>' +movies[i]['name'].substr(0,20)+ '<br><label style="color: #5cb85c;">豆瓣 '+movies[i]['doubanRating']+'</label><label style="color:red;">/IMDB '+movies[i]['imdbRating']+'</label><br><label>'+movies[i]['originPlace']+'</label></h4>';                    var div = '<div class="movie"><img width="300" height="444" src="'+movies[i]['coverLink']+'"/>'+movie_title+movie_info+'</div>';                    $(statusElement).append(div);                }            } else {            }        })    },    searchMovie: function(statusElement,checkKeyWordUrl,id){        console.log(checkKeyWordUrl);        $.post(checkKeyWordUrl, {}, function (result) {            if(result) {                var movies = result;                console.log(movies.length);                $(id).css("height",80*movies.length +'px');                for(var i = 0; i < movies.length; i++) {                    var div = '<a href="'+movies[i]['url']+'"><div><img width="50" height="75" src="'+movies[i]['pic']+'"/>'+movies[i]['name']+'</div></a>';                    $(id).append(div);                }                $(id).css("display", "block");            } else {                $(statusElement).html(result['error']);            }        })    },}